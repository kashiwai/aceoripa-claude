<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .test-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            font-weight: bold;
            transition: transform 0.2s;
        }
        .test-button:hover {
            transform: scale(1.05);
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
        }
        .success {
            background: rgba(34, 197, 94, 0.2);
            border-left: 4px solid #22c55e;
        }
        .error {
            background: rgba(239, 68, 68, 0.2);
            border-left: 4px solid #ef4444;
        }
        .info {
            background: rgba(59, 130, 246, 0.2);
            border-left: 4px solid #3b82f6;
        }
        .device-simulator {
            border: 2px solid #333;
            border-radius: 10px;
            margin: 10px;
            overflow: hidden;
            display: inline-block;
        }
        .device-simulator iframe {
            border: none;
        }
        .device-label {
            background: #333;
            color: white;
            text-align: center;
            padding: 5px;
            font-size: 12px;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .stat-card {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® Aceoripa ãƒã‚±ãƒ¢ãƒ³ã‚¬ãƒãƒ£ã‚µã‚¤ãƒˆ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ</h1>
        
        <!-- ãƒ†ã‚¹ãƒˆçµ±è¨ˆ -->
        <div class="test-section">
            <h2>ğŸ“Š ãƒ†ã‚¹ãƒˆçµ±è¨ˆ</h2>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalTests">0</div>
                    <div>ç·ãƒ†ã‚¹ãƒˆæ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="passedTests">0</div>
                    <div>æˆåŠŸ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="failedTests">0</div>
                    <div>å¤±æ•—</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="successRate">0%</div>
                    <div>æˆåŠŸç‡</div>
                </div>
            </div>
        </div>

        <!-- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>ğŸ“± TC-F002: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ</h2>
            <p>å„ãƒ‡ãƒã‚¤ã‚¹ã‚µã‚¤ã‚ºã§ã®ã‚µã‚¤ãƒˆè¡¨ç¤ºã‚’ç¢ºèªã—ã¾ã™</p>
            
            <button class="test-button" onclick="testResponsive()">ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ†ã‚¹ãƒˆé–‹å§‹</button>
            <button class="test-button" onclick="clearDevices()">ç”»é¢ã‚¯ãƒªã‚¢</button>
            
            <div id="deviceContainer"></div>
            <div id="responsiveResults"></div>
        </div>

        <!-- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>âš¡ TC-P001: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h2>
            <p>ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿é€Ÿåº¦ã¨ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ€§èƒ½ã‚’æ¸¬å®šã—ã¾ã™</p>
            
            <button class="test-button" onclick="testPerformance()">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆé–‹å§‹</button>
            <div id="performanceResults"></div>
        </div>

        <!-- DOMè¦ç´ ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>ğŸ” TC-F003: DOMè¦ç´ å­˜åœ¨ãƒ†ã‚¹ãƒˆ</h2>
            <p>é‡è¦ãªUIè¦ç´ ã®å­˜åœ¨ã‚’ç¢ºèªã—ã¾ã™</p>
            
            <button class="test-button" onclick="testDOMElements()">DOMè¦ç´ ãƒ†ã‚¹ãƒˆé–‹å§‹</button>
            <div id="domResults"></div>
        </div>

        <!-- é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>ğŸ”” TC-F005: é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ</h2>
            <p>ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™</p>
            
            <button class="test-button" onclick="testNotifications()">é€šçŸ¥ãƒ†ã‚¹ãƒˆé–‹å§‹</button>
            <div id="notificationResults"></div>
        </div>

        <!-- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>âœ¨ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãƒ†ã‚¹ãƒˆ</h2>
            <p>CSS ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒˆãƒ©ãƒ³ã‚¸ã‚·ãƒ§ãƒ³ã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™</p>
            
            <button class="test-button" onclick="testAnimations()">ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆé–‹å§‹</button>
            <div id="animationResults"></div>
        </div>

        <!-- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ</h2>
            <p>ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ ARIA å±æ€§ã‚’ç¢ºèªã—ã¾ã™</p>
            
            <button class="test-button" onclick="testAccessibility()">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆé–‹å§‹</button>
            <div id="accessibilityResults"></div>
        </div>
    </div>

    <script>
        let testStats = {
            total: 0,
            passed: 0,
            failed: 0
        };

        // çµæœè¡¨ç¤ºé–¢æ•°
        function showResult(containerId, message, type = 'info') {
            const container = document.getElementById(containerId);
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result ${type}`;
            resultDiv.innerHTML = `
                <strong>${new Date().toLocaleTimeString()}</strong> - ${message}
            `;
            container.appendChild(resultDiv);
            
            // çµ±è¨ˆæ›´æ–°
            testStats.total++;
            if (type === 'success') testStats.passed++;
            if (type === 'error') testStats.failed++;
            updateStats();
        }

        // çµ±è¨ˆæ›´æ–°
        function updateStats() {
            document.getElementById('totalTests').textContent = testStats.total;
            document.getElementById('passedTests').textContent = testStats.passed;
            document.getElementById('failedTests').textContent = testStats.failed;
            const rate = testStats.total > 0 ? Math.round((testStats.passed / testStats.total) * 100) : 0;
            document.getElementById('successRate').textContent = rate + '%';
        }

        // TC-F002: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ
        function testResponsive() {
            const devices = [
                { name: 'iPhone SE', width: 375, height: 667 },
                { name: 'iPhone 12 Pro', width: 414, height: 896 },
                { name: 'iPad', width: 768, height: 1024 },
                { name: 'Desktop', width: 1024, height: 768 },
                { name: 'Large Desktop', width: 1280, height: 800 }
            ];

            const container = document.getElementById('deviceContainer');
            container.innerHTML = '';

            devices.forEach(device => {
                const deviceDiv = document.createElement('div');
                deviceDiv.className = 'device-simulator';
                deviceDiv.innerHTML = `
                    <div class="device-label">${device.name} (${device.width}Ã—${device.height})</div>
                    <iframe 
                        src="http://localhost:3000" 
                        width="${device.width}" 
                        height="${device.height}"
                        style="transform: scale(0.3); transform-origin: top left; width: ${device.width / 0.3}px; height: ${device.height / 0.3}px;"
                    ></iframe>
                `;
                container.appendChild(deviceDiv);
                
                showResult('responsiveResults', `${device.name} (${device.width}Ã—${device.height}) ã®è¡¨ç¤ºãƒ†ã‚¹ãƒˆå®Œäº†`, 'success');
            });
        }

        function clearDevices() {
            document.getElementById('deviceContainer').innerHTML = '';
        }

        // TC-P001: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
        async function testPerformance() {
            try {
                // Performance API ã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ¸¬å®š
                const perfData = performance.getEntriesByType('navigation')[0];
                
                if (perfData) {
                    const loadTime = perfData.loadEventEnd - perfData.loadEventStart;
                    const domContentLoaded = perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart;
                    const firstPaint = performance.getEntriesByType('paint')[0]?.startTime || 0;
                    
                    showResult('performanceResults', `ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚é–“: ${loadTime.toFixed(2)}ms`, loadTime < 3000 ? 'success' : 'error');
                    showResult('performanceResults', `DOMæ§‹ç¯‰æ™‚é–“: ${domContentLoaded.toFixed(2)}ms`, domContentLoaded < 1000 ? 'success' : 'error');
                    showResult('performanceResults', `First Paint: ${firstPaint.toFixed(2)}ms`, firstPaint < 1500 ? 'success' : 'error');
                } else {
                    showResult('performanceResults', 'Performance API ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ', 'error');
                }

                // ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ï¼ˆå¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ã®ã¿ï¼‰
                if (performance.memory) {
                    const memoryMB = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                    showResult('performanceResults', `ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${memoryMB}MB`, memoryMB < 50 ? 'success' : 'error');
                }

            } catch (error) {
                showResult('performanceResults', `ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // TC-F003: DOMè¦ç´ å­˜åœ¨ãƒ†ã‚¹ãƒˆ
        function testDOMElements() {
            const targetUrl = 'http://localhost:3000';
            const iframe = document.createElement('iframe');
            iframe.src = targetUrl;
            iframe.style.display = 'none';
            
            iframe.onload = function() {
                try {
                    const doc = iframe.contentDocument || iframe.contentWindow.document;
                    
                    // é‡è¦ãªè¦ç´ ã®ã‚»ãƒ¬ã‚¯ã‚¿
                    const criticalElements = [
                        { selector: 'header', name: 'ãƒ˜ãƒƒãƒ€ãƒ¼' },
                        { selector: 'h1', name: 'ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«' },
                        { selector: '[class*="swiper"]', name: 'ãƒãƒŠãƒ¼ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼' },
                        { selector: '[class*="marquee"]', name: 'ãƒãƒ¼ã‚­ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ' },
                        { selector: 'main', name: 'ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„' },
                        { selector: 'footer', name: 'ãƒ•ãƒƒã‚¿ãƒ¼' },
                        { selector: 'button', name: 'ãƒœã‚¿ãƒ³è¦ç´ ' }
                    ];

                    criticalElements.forEach(element => {
                        const found = doc.querySelector(element.selector);
                        if (found) {
                            showResult('domResults', `âœ… ${element.name}ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`, 'success');
                        } else {
                            showResult('domResults', `âŒ ${element.name}ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`, 'error');
                        }
                    });

                    // ãƒã‚±ãƒ¢ãƒ³é–¢é€£ãƒ†ã‚­ã‚¹ãƒˆã®ç¢ºèª
                    const bodyText = doc.body.textContent || '';
                    const pokemonKeywords = ['ãƒã‚±ãƒ¢ãƒ³', 'ã‚¬ãƒãƒ£', 'ã‚ªãƒªãƒ‘', 'ã‚«ãƒ¼ãƒ‰'];
                    
                    pokemonKeywords.forEach(keyword => {
                        if (bodyText.includes(keyword)) {
                            showResult('domResults', `âœ… ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€Œ${keyword}ã€ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`, 'success');
                        } else {
                            showResult('domResults', `âŒ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€Œ${keyword}ã€ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`, 'error');
                        }
                    });

                } catch (error) {
                    showResult('domResults', `DOMè¦ç´ ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                } finally {
                    document.body.removeChild(iframe);
                }
            };

            iframe.onerror = function() {
                showResult('domResults', 'ã‚µã‚¤ãƒˆã¸ã®æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');
                document.body.removeChild(iframe);
            };

            document.body.appendChild(iframe);
        }

        // TC-F005: é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
        async function testNotifications() {
            try {
                // Service Worker ã‚µãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
                if ('serviceWorker' in navigator) {
                    showResult('notificationResults', 'âœ… Service Worker ã‚µãƒãƒ¼ãƒˆç¢ºèª', 'success');
                } else {
                    showResult('notificationResults', 'âŒ Service Worker ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                    return;
                }

                // é€šçŸ¥è¨±å¯çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯
                if ('Notification' in window) {
                    const permission = Notification.permission;
                    showResult('notificationResults', `é€šçŸ¥è¨±å¯çŠ¶æ…‹: ${permission}`, permission === 'granted' ? 'success' : 'info');
                    
                    if (permission === 'default') {
                        showResult('notificationResults', 'é€šçŸ¥è¨±å¯ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã„ã¾ã™...', 'info');
                        const result = await Notification.requestPermission();
                        showResult('notificationResults', `é€šçŸ¥è¨±å¯çµæœ: ${result}`, result === 'granted' ? 'success' : 'error');
                    }

                    // ãƒ†ã‚¹ãƒˆé€šçŸ¥ã®é€ä¿¡
                    if (Notification.permission === 'granted') {
                        new Notification('ğŸ® Aceoripa ãƒ†ã‚¹ãƒˆé€šçŸ¥', {
                            body: 'ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼',
                            icon: '/favicon.ico',
                            tag: 'test-notification'
                        });
                        showResult('notificationResults', 'âœ… ãƒ†ã‚¹ãƒˆé€šçŸ¥ã‚’é€ä¿¡ã—ã¾ã—ãŸ', 'success');
                    }
                } else {
                    showResult('notificationResults', 'âŒ Notification API ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                }

            } catch (error) {
                showResult('notificationResults', `é€šçŸ¥ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
        function testAnimations() {
            try {
                // CSS Animation ã‚µãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
                const testElement = document.createElement('div');
                testElement.style.animation = 'test 1s';
                
                if (testElement.style.animation) {
                    showResult('animationResults', 'âœ… CSS Animation ã‚µãƒãƒ¼ãƒˆç¢ºèª', 'success');
                } else {
                    showResult('animationResults', 'âŒ CSS Animation ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                }

                // CSS Transform ã‚µãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
                testElement.style.transform = 'scale(1.5)';
                if (testElement.style.transform) {
                    showResult('animationResults', 'âœ… CSS Transform ã‚µãƒãƒ¼ãƒˆç¢ºèª', 'success');
                } else {
                    showResult('animationResults', 'âŒ CSS Transform ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                }

                // Intersection Observer ã‚µãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
                if ('IntersectionObserver' in window) {
                    showResult('animationResults', 'âœ… Intersection Observer ã‚µãƒãƒ¼ãƒˆç¢ºèª', 'success');
                } else {
                    showResult('animationResults', 'âŒ Intersection Observer ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                }

                // requestAnimationFrame ã‚µãƒãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
                if ('requestAnimationFrame' in window) {
                    showResult('animationResults', 'âœ… requestAnimationFrame ã‚µãƒãƒ¼ãƒˆç¢ºèª', 'success');
                } else {
                    showResult('animationResults', 'âŒ requestAnimationFrame ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                }

            } catch (error) {
                showResult('animationResults', `ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
        function testAccessibility() {
            try {
                const iframe = document.createElement('iframe');
                iframe.src = 'http://localhost:3000';
                iframe.style.display = 'none';
                
                iframe.onload = function() {
                    try {
                        const doc = iframe.contentDocument || iframe.contentWindow.document;
                        
                        // Altå±æ€§ãƒã‚§ãƒƒã‚¯
                        const images = doc.querySelectorAll('img');
                        let imagesWithAlt = 0;
                        images.forEach(img => {
                            if (img.alt) imagesWithAlt++;
                        });
                        
                        if (images.length > 0) {
                            const altPercentage = Math.round((imagesWithAlt / images.length) * 100);
                            showResult('accessibilityResults', 
                                `ç”»åƒã®Altå±æ€§: ${imagesWithAlt}/${images.length} (${altPercentage}%)`,
                                altPercentage >= 80 ? 'success' : 'error'
                            );
                        }

                        // ãƒ˜ãƒƒãƒ‡ã‚£ãƒ³ã‚°æ§‹é€ ãƒã‚§ãƒƒã‚¯
                        const headings = doc.querySelectorAll('h1, h2, h3, h4, h5, h6');
                        showResult('accessibilityResults', 
                            `ãƒ˜ãƒƒãƒ‡ã‚£ãƒ³ã‚°æ•°: ${headings.length}`,
                            headings.length > 0 ? 'success' : 'error'
                        );

                        // ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½è¦ç´ ãƒã‚§ãƒƒã‚¯
                        const focusableElements = doc.querySelectorAll(
                            'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                        );
                        showResult('accessibilityResults', 
                            `ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½è¦ç´ : ${focusableElements.length}`,
                            focusableElements.length > 0 ? 'success' : 'error'
                        );

                        // ARIAå±æ€§ãƒã‚§ãƒƒã‚¯
                        const ariaElements = doc.querySelectorAll('[aria-label], [aria-labelledby], [aria-describedby], [role]');
                        showResult('accessibilityResults', 
                            `ARIAå±æ€§è¦ç´ : ${ariaElements.length}`,
                            ariaElements.length > 0 ? 'success' : 'info'
                        );

                    } catch (error) {
                        showResult('accessibilityResults', `ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                    } finally {
                        document.body.removeChild(iframe);
                    }
                };

                iframe.onerror = function() {
                    showResult('accessibilityResults', 'ã‚µã‚¤ãƒˆã¸ã®æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');
                    document.body.removeChild(iframe);
                };

                document.body.appendChild(iframe);

            } catch (error) {
                showResult('accessibilityResults', `ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            showResult('domResults', 'ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ', 'success');
            updateStats();
        });
    </script>
</body>
</html>
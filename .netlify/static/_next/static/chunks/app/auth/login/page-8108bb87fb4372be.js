(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{4177:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(5155),a=r(2115),n=r(6681),u=r(6874),l=r.n(u);function o(){let[e,s]=(0,a.useState)(""),[r,u]=(0,a.useState)(""),{signIn:o,loading:i}=(0,n.A)(),c=async s=>{s.preventDefault();try{await o(e,r)}catch(e){console.error("Login error:",e)}};return(0,t.jsx)("main",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-2xl p-8 w-full max-w-md",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"ログイン"}),(0,t.jsxs)("form",{onSubmit:c,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"メールアドレス"}),(0,t.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"パスワード"}),(0,t.jsx)("input",{type:"password",id:"password",value:r,onChange:e=>u(e.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••"})]}),(0,t.jsx)("button",{type:"submit",disabled:i,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"ログイン中...":"ログイン"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-gray-400",children:["アカウントをお持ちでない方は",(0,t.jsx)(l(),{href:"/auth/signup",className:"text-blue-400 hover:text-blue-300 ml-1",children:"新規登録"})]})}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)(l(),{href:"/",className:"text-gray-400 hover:text-gray-300",children:"← トップページに戻る"})})]})})}},5260:(e,s,r)=>{Promise.resolve().then(r.bind(r,4177))},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},6681:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});var t=r(2115),a=r(1720),n=r(5695),u=r(3568);function l(){let[e,s]=(0,t.useState)(null),[r,l]=(0,t.useState)(!0),o=(0,a.kT)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0"),i=(0,n.useRouter)();return(0,t.useEffect)(()=>{(async()=>{let{data:{user:e}}=await o.auth.getUser();s(e),l(!1)})();let{data:{subscription:e}}=o.auth.onAuthStateChange((e,r)=>{var t;s(null!=(t=null==r?void 0:r.user)?t:null)});return()=>e.unsubscribe()},[o]),{user:e,loading:r,signIn:async(e,s)=>{try{let{error:r}=await o.auth.signInWithPassword({email:e,password:s});if(r)throw r;u.oR.success("ログインしました"),i.push("/")}catch(e){throw console.error("Sign in error:",e),u.oR.error("ログインに失敗しました"),e}},signUp:async(e,s,r)=>{try{let{error:t}=await o.auth.signUp({email:e,password:s,options:{data:{username:r}}});if(t)throw t;u.oR.success("アカウントを作成しました"),i.push("/")}catch(e){throw console.error("Sign up error:",e),u.oR.error("アカウント作成に失敗しました"),e}},signOut:async()=>{try{let{error:e}=await o.auth.signOut();if(e)throw e;u.oR.success("ログアウトしました"),i.push("/")}catch(e){throw console.error("Sign out error:",e),u.oR.error("ログアウトに失敗しました"),e}}}}}},e=>{var s=s=>e(e.s=s);e.O(0,[6874,3568,4982,1720,8441,1684,7358],()=>s(5260)),_N_E=e.O()}]);